<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fixed Upload - Simple Solution</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; direction: rtl; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; }
        .fix-card { background: white; border-radius: 12px; padding: 20px; margin: 16px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .fix-header { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 16px; border-radius: 8px; margin-bottom: 16px; }
        .success-box { background: #dcfce7; border: 1px solid #86efac; border-radius: 8px; padding: 12px; margin: 12px 0; }
        .code-block { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 12px; margin: 12px 0; font-family: monospace; font-size: 14px; }
        .highlight { background: #fbbf24; padding: 2px 4px; border-radius: 3px; }
        .demo-button { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 12px 24px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin: 8px; transition: transform 0.2s; }
        .demo-button:hover { transform: scale(1.05); }
    </style>
</head>
<body>
    <div class="container">
        <h1>โ ุญู ุจุณูุท ูุซุงุจุช - ุฑูุน ุงููููุงุช</h1>
        
        <div class="fix-card">
            <div class="fix-header">
                <h2>๐ง ุงูุญู ุงูุจุณูุท ุงููุทุจู</h2>
                <p>ุงุณุชุฎุฏุงู ูุนุฑูุงุช ุซุงุจุชุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</p>
            </div>
            
            <div class="success-box">
                <h3>๐ก ุงูููุฑุฉ:</h3>
                <p>ุจูุง ุฃู ุงููุตุงุฏูุฉ ูุนุทูุฉุ ูุณุชุฎุฏู ูุนุฑูุงุช ุซุงุจุชุฉ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:</p>
                <ul>
                    <li><strong>ุงููุณุชุฎุฏู ุงูุซุงุจุช:</strong> ููุฒุฉ ูุนููุฉ (ุฃูู ูุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)</li>
                    <li><strong>ุฌูุณุฉ ุงูุนูู ุงูุซุงุจุชุฉ:</strong> ุฃูู ุฌูุณุฉ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</li>
                </ul>
            </div>
        </div>

        <div class="fix-card">
            <h2>๐ง ุงูุชุบููุฑุงุช ุงููุทุจูุฉ</h2>
            
            <h3>1. ุฅุตูุงุญ ุงููุณุชุฎุฏู ูู Dashboard:</h3>
            <div class="code-block">
// ูุจู ุงูุฅุตูุงุญ<br>
const currentUser = ref(authService.getStoredUser()) // null ูุฃู ุงููุตุงุฏูุฉ ูุนุทูุฉ<br><br>

// ุจุนุฏ ุงูุฅุตูุงุญ<br>
const currentUser = ref({<br>
  <span class="highlight">id: '0f851929-30b0-4b1c-8f64-779bd03dae03'</span>,<br>
  email: 'ููุฒุฉ@zinat.local',<br>
  firstName: 'ููุฒุฉ',<br>
  lastName: 'ูุนููุฉ',<br>
  role: 'teacher',<br>
  isActive: true<br>
})
            </div>
            
            <h3>2. ุฅุตูุงุญ ูุนุฑู ุงููุณุชุฎุฏู ูุฑูุน ุงููููุงุช:</h3>
            <div class="code-block">
// ูุจู ุงูุฅุตูุงุญ - ูุนูุฏ ููุนุฑุถ ููุฃุฎุทุงุก<br>
let uploadUserId = currentUser.value?.id<br>
if (!uploadUserId) {<br>
  uploadUserId = selectedTask.value.created_by<br>
}<br>
if (!uploadUserId) {<br>
  uploadUserId = '0f851929-30b0-4b1c-8f64-779bd03dae03'<br>
}<br><br>

// ุจุนุฏ ุงูุฅุตูุงุญ - ุจุณูุท ูุซุงุจุช<br>
<span class="highlight">const uploadUserId = '0f851929-30b0-4b1c-8f64-779bd03dae03' // ููุฒุฉ ูุนููุฉ</span>
            </div>
            
            <h3>3. ุฅุตูุงุญ ูุนุฑู ุฌูุณุฉ ุงูุนูู:</h3>
            <div class="code-block">
// ูุจู ุงูุฅุตูุงุญ - ุงุณุชุฎุฏุงู ูุนุฑู ูุฏ ูุง ููุฌุฏ<br>
const uploadedMedia = await sessionMediaService.uploadMultipleFiles(<br>
  selectedTask.value.id, // ูุฏ ูุง ููุฌุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช<br>
  files,<br>
  uploadUserId<br>
)<br><br>

// ุจุนุฏ ุงูุฅุตูุงุญ - ุงุณุชุฎุฏุงู ูุนุฑู ููุฌูุฏ ุจุงูุชุฃููุฏ<br>
<span class="highlight">const sessionPlanId = '7ccdebb8-98a3-44a0-b9e0-0bb336908051' // ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</span><br>
const uploadedMedia = await sessionMediaService.uploadMultipleFiles(<br>
  sessionPlanId,<br>
  files,<br>
  uploadUserId<br>
)
            </div>
        </div>

        <div class="fix-card">
            <h2>๐ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ</h2>
            
            <div class="success-box">
                <h3>๐ค ุงููุณุชุฎุฏู ุงูุซุงุจุช:</h3>
                <div class="code-block">
ID: <span class="highlight">0f851929-30b0-4b1c-8f64-779bd03dae03</span><br>
Email: ููุฒุฉ@zinat.local<br>
Name: ููุฒุฉ ูุนููุฉ<br>
Role: teacher<br>
Status: โ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
                </div>
            </div>
            
            <div class="success-box">
                <h3>๐ ุฌูุณุฉ ุงูุนูู ุงูุซุงุจุชุฉ:</h3>
                <div class="code-block">
ID: <span class="highlight">7ccdebb8-98a3-44a0-b9e0-0bb336908051</span><br>
Title: wrthwth<br>
Status: โ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
                </div>
            </div>
        </div>

        <div class="fix-card">
            <h2>๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ</h2>
            
            <div class="success-box">
                <h3>โ ูุง ุณูุญุฏุซ ุงูุขู:</h3>
                <ul>
                    <li><strong>ููุญุฉ ุงูุชุญูู:</strong> ุชุนุฑุถ "ูุฑุญุจุงู ุจู ููุฒุฉ ูุนููุฉ"</li>
                    <li><strong>ุฑูุน ุงููููุงุช:</strong> ูุนูู ุจุฏูู ุฃุฎุทุงุก Foreign Key</li>
                    <li><strong>ุฅููุงู ุงูููุงู:</strong> ูุชู ุจูุฌุงุญ ูุน ุญูุธ ุงููููุงุช</li>
                    <li><strong>ุนุฑุถ ุงููููุงุช:</strong> ุชุธูุฑ ูู ุงููุงุฌูุฉ ุจุนุฏ ุงูุฅููุงู</li>
                </ul>
            </div>
            
            <h3>๐ ุฑุณุงุฆู Console ุงููุชููุนุฉ:</h3>
            <div class="code-block">
๐ Uploading 2 files for user: 0f851929-30b0-4b1c-8f64-779bd03dae03<br>
โ Uploading files to session plan: 7ccdebb8-98a3-44a0-b9e0-0bb336908051<br>
๐ Backend: Uploading 2 files for session: 7ccdebb8-98a3-44a0-b9e0-0bb336908051<br>
โ Files uploaded successfully to database: [...]<br>
๐พ Saving task completion to backend...<br>
โ Task completion saved to backend: {...}<br>
โ ุชู ุฅููุงู ุงููููุฉ ุจูุฌุงุญ!
            </div>
        </div>

        <div class="fix-card">
            <h2>๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ</h2>
            
            <div class="success-box">
                <h3>ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:</h3>
                <ol>
                    <li><strong>ุงูุชุญ ููุญุฉ ุงูุชุญูู:</strong> ูุฌุจ ุฃู ุชุธูุฑ "ููุฒุฉ ูุนููุฉ"</li>
                    <li><strong>ุงุฐูุจ ููุฌูุณุงุช ุงูุฃุณุจูุนูุฉ:</strong> /teacher-weekly-sessions</li>
                    <li><strong>ุงุฎุชุฑ ูููุฉ ุบูุฑ ููุชููุฉ:</strong> ุงุถุบุท "ุฅููุงู ุงููููุฉ"</li>
                    <li><strong>ุฃุถู ูุตู ููููุงุช:</strong> ุงูุชุจ ูุตู ูุฃุฑูู ุตูุฑ/ููุฏูููุงุช</li>
                    <li><strong>ุงุถุบุท ุญูุธ:</strong> ูุฌุจ ุฃู ูุนูู ุจุฏูู ุฃุฎุทุงุก</li>
                    <li><strong>ุชุญูู ูู ุงููุชูุฌุฉ:</strong> ุงููููุฉ ููุชููุฉ ูุงููููุงุช ุธุงูุฑุฉ</li>
                </ol>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <button class="demo-button" onclick="window.open('http://localhost:5173/dashboard', '_blank')">
                    ๐ ุงุฎุชุจุฑ ููุญุฉ ุงูุชุญูู
                </button>
                <button class="demo-button" onclick="window.open('http://localhost:5173/teacher-weekly-sessions', '_blank')">
                    ๐ ุงุฎุชุจุฑ ุงูุฌูุณุงุช ุงูุฃุณุจูุนูุฉ
                </button>
            </div>
        </div>

        <div class="fix-card">
            <h2>๐ก ูููุฒุงุช ุงูุญู</h2>
            
            <div class="success-box">
                <h3>๐ฏ ููุงุฐุง ูุฐุง ุงูุญู ุฌูุฏ:</h3>
                <ul>
                    <li><strong>ุจุณูุท:</strong> ูุง ุชุนููุฏุงุช ูู ููุทู ุงุฎุชูุงุฑ ุงููุนุฑูุงุช</li>
                    <li><strong>ููุซูู:</strong> ูุณุชุฎุฏู ูุนุฑูุงุช ููุฌูุฏุฉ ุจุงูุชุฃููุฏ</li>
                    <li><strong>ุณุฑูุน:</strong> ูุง ุงุณุชุนูุงูุงุช ุฅุถุงููุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช</li>
                    <li><strong>ูุงุจู ููุงุฎุชุจุงุฑ:</strong> ูุชุงุฆุฌ ูุชููุนุฉ ููุชุณูุฉ</li>
                    <li><strong>ูุคูุช:</strong> ูููู ุชุบููุฑู ุจุณูููุฉ ุนูุฏ ุชูุนูู ุงููุตุงุฏูุฉ</li>
                </ul>
            </div>
            
            <p style="text-align: center; font-size: 18px; color: #10b981; font-weight: bold; margin-top: 20px;">
                ๐ ุงูุญู ุงูุจุณูุท ูุงููุนุงู - ุฑูุน ุงููููุงุช ูุนูู ุงูุขู! ๐
            </p>
        </div>
    </div>
</body>
</html>
